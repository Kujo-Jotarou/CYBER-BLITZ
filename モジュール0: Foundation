<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>CYBER BLITZ : HACKER BEATS (Modular)</title>
    <!-- CDN Links -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Module 0: Foundation CSS -->
    <style>
        :root {
            --cyan: #00ffff;
            --magenta: #ff00ff;
            --yellow: #ffff00;
            --gray: #808080;
            --dark-bg: #010008;
            --border-color: rgba(0, 255, 255, 0.3);
        }
        
        body {
            font-family: 'Orbitron', sans-serif;
            background-color: var(--dark-bg);
            color: #d0d0ff;
            overflow: hidden;
            cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%2300ffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><path d='M5 12h14'/><path d='M12 5v14'/></svg>") 12 12, auto;
            touch-action: manipulation;
        }

        .font-sans { font-family: 'Noto Sans JP', sans-serif; }
        .hidden-screen { display: none !important; }

        .cyber-button {
            background: transparent;
            border: 2px solid;
            padding: 0.75rem 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            letter-spacing: 0.1em;
            font-weight: 700;
        }
        .btn-cyan { border-color: var(--cyan); color: var(--cyan); box-shadow: inset 0 0 10px var(--cyan), 0 0 10px var(--cyan); }
        .btn-magenta { border-color: var(--magenta); color: var(--magenta); box-shadow: inset 0 0 10px var(--magenta), 0 0 10px var(--magenta); }
        .btn-yellow { border-color: var(--yellow); color: var(--yellow); box-shadow: inset 0 0 10px var(--yellow), 0 0 10px var(--yellow); }
        .cyber-button:hover:not(:disabled) { color: var(--dark-bg); transform: scale(1.05); }
        .btn-cyan:hover:not(:disabled) { background-color: var(--cyan); box-shadow: 0 0 20px var(--cyan), 0 0 30px var(--cyan); }
        .btn-magenta:hover:not(:disabled) { background-color: var(--magenta); box-shadow: 0 0 20px var(--magenta), 0 0 30px var(--magenta); }
        .btn-yellow:hover:not(:disabled) { background-color: var(--yellow); box-shadow: 0 0 20px var(--yellow), 0 0 30px var(--yellow); }
        .cyber-button:disabled { filter: grayscale(1) brightness(0.5); cursor: not-allowed; text-shadow: none; border-color: var(--gray); color: var(--gray); box-shadow: none; }

        .background-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -10; }
        .background-grid { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: repeating-linear-gradient(0deg, transparent, transparent 49px, rgba(0, 255, 255, 0.05) 50px), repeating-linear-gradient(90deg, transparent, transparent 49px, rgba(255, 0, 255, 0.05) 50px); background-size: 50px 50px; animation: bg-scroll 20s linear infinite; }
        @keyframes bg-scroll { 0% { background-position: 0 0; } 100% { background-position: 0 -1000px; } }
        .background-glow { position: absolute; width: 150vw; height: 150vh; top: 50%; left: 50%; transform: translate(-50%, -50%); background: radial-gradient(ellipse at center, rgba(30, 0, 70, 0.5) 0%, rgba(1, 0, 8, 0) 60%); animation: glow-pulse 8s ease-in-out infinite alternate; }
        @keyframes glow-pulse { from { transform: translate(-50%, -50%) scale(0.8); opacity: 0.7; } to { transform: translate(-50%, -50%) scale(1.2); opacity: 1; } }

        .glitch { position: relative; font-size: 6rem; line-height: 1; font-weight: 900; text-shadow: 0 0 5px var(--cyan), 0 0 10px var(--cyan), 0 0 20px var(--cyan), 0 0 40px var(--magenta), 0 0 80px var(--magenta); animation: glitch-anim 5s infinite alternate-reverse; }
        .glitch:before, .glitch:after { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: var(--dark-bg); overflow: hidden; clip: rect(0, 900px, 0, 0); }
        .glitch:before { left: -2px; text-shadow: 2px 0 var(--cyan), -1px 0 var(--magenta); animation: glitch-anim-2 3s infinite linear alternate-reverse; }
        .glitch:after { left: 2px; text-shadow: -2px 0 var(--magenta), 1px 0 var(--cyan); animation: glitch-anim-3 4s infinite linear alternate-reverse; }
        @keyframes glitch-anim { from { text-shadow: 0 0 5px #00ffff, 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 40px #ff00ff, 0 0 80px #ff00ff; } to { text-shadow: 0 0 5px #00ffff, 0 0 15px #00ffff, 0 0 25px #ff00ff, 0 0 50px #ff00ff, 0 0 100px #ff00ff; } }
        @keyframes glitch-anim-2 { 0%, 100% { clip: rect(44px, 9999px, 99px, 0); } 15% { clip: rect(12px, 9999px, 60px, 0); } 30% { clip: rect(50px, 9999px, 56px, 0); } 45% { clip: rect(27px, 9999px, 106px, 0); } 60% { clip: rect(90px, 9999px, 90px, 0); } 75% { clip: rect(30px, 9999px, 75px, 0); } 90% { clip: rect(78px, 9999px, 52px, 0); } }
        @keyframes glitch-anim-3 { 0%, 100% { clip: rect(65px, 9999px, 119px, 0); } 10% { clip: rect(79px, 9999px, 92px, 0); } 20% { clip: rect(68px, 9999px, 110px, 0); } 30% { clip: rect(40px, 9999px, 130px, 0); } 40% { clip: rect(20px, 9999px, 85px, 0); } 50% { clip: rect(54px, 9999px, 130px, 0); } 60% { clip: rect(10px, 9999px, 100px, 0); } 70% { clip: rect(80px, 9999px, 70px, 0); } 80% { clip: rect(45px, 9999px, 80px, 0); } 90% { clip: rect(95px, 9999px, 60px, 0); } }
        .subtitle { font-size: 1.25rem; letter-spacing: 0.5em; color: #d0d0ff; text-shadow: 0 0 3px var(--magenta), 0 0 5px var(--magenta); text-indent: 0.5em; }
        @media (max-width: 768px) { .glitch { font-size: 3rem; } .subtitle { font-size: 1rem; } }
    </style>
</head>
<body>
    <!-- Background Elements -->
    <div class="background-container"><div class="background-grid"></div><div class="background-glow"></div></div>
    
    <!-- Main Application Container -->
    <div id="app-container">

        <!-- Screen: Title -->
        <div id="screen-title" class="w-full h-screen flex flex-col justify-center items-center text-center p-4">
            <header>
                <h1 class="glitch" data-text="CYBER BLITZ">CYBER BLITZ</h1>
                <p class="subtitle tracking-widest">HACKER BEATS</p>
            </header>
            <main class="mt-12 md:mt-16 w-full max-w-sm flex flex-col gap-4">
                <button data-screen="playLoader" class="screen-changer cyber-button btn-cyan w-full">PLAY BEATMAP</button>
                <button data-screen="editorLoader" class="screen-changer cyber-button btn-magenta w-full">CREATE / EDIT</button>
            </main>
        </div>
        
        <!-- Screen: Player Loader -->
        <div id="screen-play-loader" class="hidden-screen w-full h-screen flex flex-col justify-center items-center text-center p-4">
            <!-- Content for this screen will be added by Module 3 -->
        </div>

        <!-- Screen: Player -->
        <div id="screen-play" class="hidden-screen w-full h-screen flex justify-center items-center">
            <!-- Content for this screen will be added by Module 4 -->
        </div>
        
        <!-- Screen: Editor Loader -->
        <div id="screen-editor-loader" class="hidden-screen w-full h-screen flex flex-col justify-center items-center text-center p-4">
            <!-- Content for this screen will be added by Module 3 -->
        </div>
        
        <!-- Screen: Editor -->
        <div id="screen-editor" class="hidden-screen w-full h-screen">
            <!-- Content for this screen will be added by Module 5 -->
        </div>

        <!-- Screen: Result (Overlay) -->
        <div id="screen-result" class="hidden-screen">
             <!-- Content for this screen will be added by Module 4 -->
        </div>

        <!-- Screen: Global Error (Overlay) -->
        <div id="global-error-overlay" class="hidden-screen">
            <!-- Content for this screen will be added by the main App logic -->
        </div>

    </div>

    <!-- Main Application Script -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Global Application Object
            const App = {};

            // Application Initializer
            App.init = function() {
                console.log("Foundation Initialized.");
                // Modules will be initialized here in later steps.
            };

            // Start the application
            App.init();
        });
    </script>
</body>
</html>
